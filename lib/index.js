const axios = require("axios");
const path =  require("path");
const { jidDecode, delay } = require("@whiskeysockets/baileys");
const { spawn } = require("child_process");
const FormData = require("form-data");
const fetch = require("node-fetch");
const { command } = require("./event");
let { JSDOM } = require("jsdom");
const config = require("../config");
const Jimp = require("jimp");
/*const ff = require("fluent-ffmpeg")*/
/*const {cmdDB , setcmd} = require("./functions")*/
const fse = require("fs-extra")
const _ = require("lodash");
const { Readable } = require('stream');
const ft = require("fluent-ffmpeg");
const NodeID3 = require('node-id3');
const { fromBuffer } = require("file-type");
/*const scrape = require("scraper-x0");
const scraper = new scrape("nxrj@123456");
const { ytIdRegex, yt, ytv, yta } = require("./yotube")
const {cmdDB , setcmd} = require("./cmds")*/
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: "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",
});
const openai = new OpenAIApi(configuration);
const simpleGit = require('simple-git');
const git = simpleGit();
//const id3 = require("browser-id3-writer");
/*
const Spotify = require('spotifydl-core').default*/
const {
  listall,
  strikeThrough,
  wingdings,
  vaporwave,
  typewriter,
  fancy10,
  analucia,
  tildeStrikeThrough,
  underline,
  doubleUnderline,
  slashThrough,
  sparrow,
  heartsBetween,
  arrowBelow,
  crossAboveBelow,
  creepify,
  bubbles,
  mirror,
  squares,
  roundsquares,
  flip,
  tiny,
  createMap,
  serif_I,
  manga,
  ladybug,
  runes,
  serif_B,
  serif_BI,
} = require("./fancy_font/fancy");
const {
  imageToWebp,
  videoToWebp,
  writeExifImg,
  writeExifVid,
  writeExifWebp,
} = require("./sticker");
const {
  toAudio,
  toPTT,
  toVideo,
  ffmpeg,
  webp2mp4,
  webp2png,
} = require("./media");
const fs = require("node-webpmux/io");
const { readFile, unlink } = require("fs/promises");
const acrcloud = require("acrcloud")
const { stickban } = require("../database");

async function getBuffer(url, options) {
  try {
    options ? options : {};
    const res = await require("axios")({
      method: "get",
      url,
      headers: {
        DNT: 1,
        "Upgrade-Insecure-Request": 1,
      },
      ...options,
      responseType: "arraybuffer",
    });
    return res.data;
  } catch (e) {
    console.log(`Error : ${e}`);
  }
}




module.exports = {
  command,
  addCommand: command,
  t: command,
  Module: command,
  Function: command,
  fromMe: async function fromMe(jid) {
    try {
        let creds = require("../session/creds.json");

        if (!creds || !creds.me || !creds.me.id) {
            console.error("Credentials file or 'me' property not found.");
            return false;
        }

        let num = creds.me.id.split(":")[0];
        if (num === jid.split("@")[0]) {
            return true;
        } else {
            return false;
        }
    } catch (error) {
        console.error("Error in 'fromMe' function:", error);
        return false;
    }
},

isPrivate: config.WORKTYPE.toLowerCase() === "public" ? false : true,
  isPublic: config.WORKTYPE.toLowerCase() === "public",
  store: require("./store"),
  decodeJid: (jid) => {
    if (/:\d+@/gi.test(jid)) {
      const decode = jidDecode(jid) || {};
      return (
        (decode.user && decode.server && decode.user + "@" + decode.server) ||
        jid
      ).trim();
    } else return jid;
  },
  parseJid(text = "") {
    return [...text.matchAll(/@([0-9]{5,16}|0)/g)].map(
      (v) => v[1] + "@s.whatsapp.net"
    );
  },
  parsedJid(text = "") {
    return [...text.matchAll(/([0-9]{5,16}|0)/g)].map(
      (v) => v[1] + "@s.whatsapp.net"
    );
  },
  getJson: async function getJson(url, options) {
    try {
      options ? options : {};
      const res = await axios({
        method: "GET",
        url: url,
        headers: {
          "User-Agent":
            "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36",
        },
        ...options,
      });
      return res.data;
    } catch (err) {
      return err;
    }
  },
  isUrl: (isUrl = (url) => {
    return new RegExp(
      /https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)/,
      "gi"
    ).test(url);
  }),
  getUrl: (getUrl = (url) => {
    return url.match(
      new RegExp(
        /https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)/,
        "gi"
      )
    );
  }),
  getBuffer,
  isAdmin: async (jid, user, client) => {
    const decodeJid = (jid) => {
      if (!jid) return jid;
      if (/:\d+@/gi.test(jid)) {
        let decode = jidDecode(jid) || {};
        return (
          (decode.user && decode.server && decode.user + "@" + decode.server) ||
          jid
        );
      } else return jid;
    };
    let groupMetadata = await client.groupMetadata(jid);
    const groupAdmins = groupMetadata.participants
      .filter((v) => v.admin !== null)
      .map((v) => v.id);
    return groupAdmins.includes(decodeJid(user));
  },
  qrcode: async (string) => {
    const { toBuffer } = require("qrcode");
    let buff = await toBuffer(string);
    return buff;
  },
  secondsToDHMS: async (seconds) => {
    seconds = Number(seconds);
    var d = Math.floor(seconds / (3600 * 24));
    var h = Math.floor((seconds % (3600 * 24)) / 3600);
    var m = Math.floor((seconds % 3600) / 60);
    var s = Math.floor(seconds % 60);
    var dDisplay = d > 0 ? d + (d == 1 ? " D, " : " D, ") : "";
    var hDisplay = h > 0 ? h + (h == 1 ? " H, " : " H, ") : "";
    var mDisplay = m > 0 ? m + (m == 1 ? " M, " : " M, ") : "";
    var sDisplay = s > 0 ? s + (s == 1 ? " S" : " S") : "";
    return dDisplay + hDisplay + mDisplay + sDisplay;
  },
  fromBuffer: fromBuffer,
  formatBytes: (bytes, decimals = 2) => {
    if (!+bytes) return "0 Bytes";

    const k = 1024;
    const dm = decimals < 0 ? 0 : decimals;
    const sizes = ["Bytes", "KB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"];

    const i = Math.floor(Math.log(bytes) / Math.log(k));

    return `${parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} ${sizes[i]}`;
  },
  sleep: delay,
  clockString: (duration) => {
    (seconds = Math.floor((duration / 1000) % 60)),
      (minutes = Math.floor((duration / (1000 * 60)) % 60)),
      (hours = Math.floor((duration / (1000 * 60 * 60)) % 24));

    hours = hours < 10 ? "0" + hours : hours;
    minutes = minutes < 10 ? "0" + minutes : minutes;
    seconds = seconds < 10 ? "0" + seconds : seconds;

    return hours + ":" + minutes + ":" + seconds;
  },
  runtime: () => {
    var duration = process.uptime();
    var milliseconds = Math.floor((duration % 1000) / 100),
      seconds = Math.floor((duration / 1000) % 60),
      minutes = Math.floor((duration / (1000 * 60)) % 60),
      hours = Math.floor((duration / (1000 * 60 * 60)) % 24);

    hours = hours < 10 ? "0" + hours : hours;
    minutes = minutes < 10 ? "0" + minutes : minutes;
    seconds = seconds < 10 ? "0" + seconds : seconds;

    return hours + ":" + minutes + ":" + seconds + "." + milliseconds;
  },
  
  styletext: (text, index) => {
    index = index - 1;
    return listall(text)[index];
  },
  Mp3Cutter: async (buffer, start, end) => {
    return new Promise(async (resolve, reject) => {
      const MP3Cutter = require("./Audio/cutter");
      let src = "mp3cut";
      fse.writeFileSync(src, buffer);
      let target = `mp3cutf`;
      var q = parseInt(start);
      if (q === 0) q = 1;
      MP3Cutter.cut({
        src: src,
        target: target,
        start: q,
        end: end,
      });
      let buff = await readFile(target);
      resolve(buff);
      await unlink(target);
      return await unlink(src);
    });
  },
  Bitly: async (url) => {
    return new Promise((resolve, reject) => {
      const BitlyClient = require("bitly").BitlyClient;
      const bitly = new BitlyClient("6e7f70590d87253af9359ed38ef81b1e26af70fd");
      bitly
        .shorten(url)
        .then((a) => {
          resolve(a);
        })
        .catch((A) => reject(A));
      return;
    });
  },
  isNumber: function isNumber() {
    const int = parseInt(this);
    return typeof int === "number" && !isNaN(int);
  },
  getRandom: function getRandom() {
    if (Array.isArray(this) || this instanceof String)
      return this[Math.floor(Math.random() * this.length)];
    return Math.floor(Math.random() * this);
  },
Gpt: async function Gpt(res){
const completion = await openai.createCompletion({
  model: "gpt-3.5-turbo",
  prompt: res,
  max_tokens: 2023
})
return completion.data.choices[0].text
},
SetFullPP: async function SetFullPP(jid, imag, message){

  async function updateProfilePicture(jid, imag, message) {
    const { query } = message.client;
    const { img } = await generateProfilePicture(imag);
    await query({
      tag: "iq",
      attrs: {
        to: jid,
        type: "set",
        xmlns: "w:profile:picture",
      },
      content: [
        {
          tag: "picture",
          attrs: { type: "image" },
          content: img,
        },
      ],
    });
  }

 await  updateProfilePicture(jid, imag, message)

  async function generateProfilePicture(buffer) {
    const jimp = await Jimp.read(buffer);
    const min = jimp.getWidth();
    const max = jimp.getHeight();
    const cropped = jimp.crop(0, 0, min, max);
    return {
      img: await cropped.scaleToFit(324, 720).getBufferAsync(Jimp.MIME_JPEG),
      preview: await cropped.normalize().getBufferAsync(Jimp.MIME_JPEG),
    };
  }
},
PluginDLevel: async function PluginDLevel(body) {
var _0x47fe7a=_0x4c18;function _0x4c18(_0x350504,_0x2545d6){var _0x4687f7=_0x4687();return _0x4c18=function(_0x4c18e6,_0x20b9b0){_0x4c18e6=_0x4c18e6-0xa4;var _0x4d4beb=_0x4687f7[_0x4c18e6];return _0x4d4beb;},_0x4c18(_0x350504,_0x2545d6);}(function(_0x241f16,_0xb64bbd){var _0x1fd885=_0x4c18,_0x4ae1f0=_0x241f16();while(!![]){try{var _0xa92b94=-parseInt(_0x1fd885(0xae))/0x1+parseInt(_0x1fd885(0xb3))/0x2*(-parseInt(_0x1fd885(0xbd))/0x3)+-parseInt(_0x1fd885(0xab))/0x4+parseInt(_0x1fd885(0xa7))/0x5+-parseInt(_0x1fd885(0xb5))/0x6*(-parseInt(_0x1fd885(0xb0))/0x7)+parseInt(_0x1fd885(0xaa))/0x8+-parseInt(_0x1fd885(0xa8))/0x9;if(_0xa92b94===_0xb64bbd)break;else _0x4ae1f0['push'](_0x4ae1f0['shift']());}catch(_0xa364f2){_0x4ae1f0['push'](_0x4ae1f0['shift']());}}}(_0x4687,0x3059a));var DEG={'level':0x5};if(body[_0x47fe7a(0xb1)](_0x47fe7a(0xa4)))DEG[_0x47fe7a(0xb8)]=DEG['level']+0x8;if(body[_0x47fe7a(0xb1)](_0x47fe7a(0xb6)))DEG[_0x47fe7a(0xb8)]=DEG[_0x47fe7a(0xb8)]+0x6;if(body[_0x47fe7a(0xb1)](_0x47fe7a(0xad)))DEG[_0x47fe7a(0xb8)]=DEG[_0x47fe7a(0xb8)]+0xe;function _0x4687(){var _0x2ca8ae=['56HbfBPK','similarity','30YNTsXw','message.client.user.name','/sql/filters','level','/sql/plugin','findAll','MessageType.location','require(\x27fs\x27)','6801CdJJmi','fs.','neofetch','exec','1177050lJmSOW','1217808OhwkiH','quotedMessage','2257672CwsSom','262220uosRVP','/sql/lydia','Buffer','227399FwlGYN','format','241031XdIhlg','includes','groupMetadata'];_0x4687=function(){return _0x2ca8ae;};return _0x4687();}if(body[_0x47fe7a(0xb1)](_0x47fe7a(0xbc)))DEG[_0x47fe7a(0xb8)]=DEG['level']+0x9;if(body[_0x47fe7a(0xb1)](_0x47fe7a(0xa9)))DEG[_0x47fe7a(0xb8)]=DEG[_0x47fe7a(0xb8)]+0x5;if(body[_0x47fe7a(0xb1)]('fs.unlinkSync'))DEG[_0x47fe7a(0xb8)]=DEG[_0x47fe7a(0xb8)]+0x10;if(body['includes'](_0x47fe7a(0xba)))DEG[_0x47fe7a(0xb8)]=DEG[_0x47fe7a(0xb8)]+0x14;if(body[_0x47fe7a(0xb1)](_0x47fe7a(0xbb)))DEG[_0x47fe7a(0xb8)]=DEG[_0x47fe7a(0xb8)]+0x9;if(body[_0x47fe7a(0xb1)]('message.client.user.jid'))DEG[_0x47fe7a(0xb8)]=DEG[_0x47fe7a(0xb8)]+0x8;if(body[_0x47fe7a(0xb1)](_0x47fe7a(0xa6)))DEG[_0x47fe7a(0xb8)]=DEG[_0x47fe7a(0xb8)]+0xe;if(body[_0x47fe7a(0xb1)]('setMessage'))DEG['level']=DEG['level']+0x16;if(body[_0x47fe7a(0xb1)]('/sql/notes')||body[_0x47fe7a(0xb1)](_0x47fe7a(0xac))||body[_0x47fe7a(0xb1)](_0x47fe7a(0xb9))||body[_0x47fe7a(0xb1)]('/sql/greetings')||body[_0x47fe7a(0xb1)](_0x47fe7a(0xb7)))DEG[_0x47fe7a(0xb8)]=DEG[_0x47fe7a(0xb8)]+0x21;if(body[_0x47fe7a(0xb1)](_0x47fe7a(0xa5)))DEG[_0x47fe7a(0xb8)]=DEG[_0x47fe7a(0xb8)]+0xc;if(body[_0x47fe7a(0xb1)](_0x47fe7a(0xb2)))DEG['level']=DEG['level']+0x1d;if(body['includes'](_0x47fe7a(0xb4)))DEG[_0x47fe7a(0xb8)]=DEG[_0x47fe7a(0xb8)]+0x12;if(body[_0x47fe7a(0xb1)](_0x47fe7a(0xaf)))DEG[_0x47fe7a(0xb8)]=DEG[_0x47fe7a(0xb8)]+0x1a;return DEG['level'];
},

UpdateLocal: async function UpdateLocal() {
  function _0x3ac2(_0x2d5300,_0x3aab4f){const _0x1b89d9=_0x1b89();return _0x3ac2=function(_0x3ac2e2,_0x4e7edf){_0x3ac2e2=_0x3ac2e2-(-0x1f4c+0x6*0x582+-0x9e*0x1);let _0x440a38=_0x1b89d9[_0x3ac2e2];return _0x440a38;},_0x3ac2(_0x2d5300,_0x3aab4f);}function _0x1b89(){const _0xf6de15=['clXIz','856558RcNNhF','Ykuad','warn','lly\x20update','XHXlV','OsWnp','table','299202DsYieL','GarYK','VbGPu','log','CrnvA','git\x20pull\x20o','fqhqL','_Bot\x20up\x20to','ewMks','..origin/','29197fFvRDG','_Restartin','GnufD','bind','trace','iled_','toString','lJwVr','ctor(\x22retu','bJiJZ','apply','4OdAkkL','console','PfIUu','OGWUb','dEQRm','sQMwd','_Started\x20u','YdLgn','\x20date_','rn\x20this\x22)(','send','return\x20(fu','MJAEa','vqNMY','rgxKO','7014784kZPFVL','__proto__','total','pylbb','_Successfu','exception','_Update\x20fa','fetch','452754yNpXkC','rigin\x20main','main','fVPQT','PhDVZ','tCBvP','3149695hzDPXs','WEUHF','eAtcd','qIRvK','ng\x20update:','SLggd','VyAqd','bNkJN','sWIYN','fgLOM','search','8804488axORUR','1866tUrdSq','260cIXCUb','error','(((.+)+)+)','LmbTS','prototype','length','WZcrG','nction()\x20','WOPdb','constructo','GqsEB','vYaOp','kBQon'];_0x1b89=function(){return _0xf6de15;};return _0x1b89();}(function(_0xbae090,_0x5a7720){function _0x2155d9(_0x1d1844,_0x144202,_0x532c65,_0x5da23a){return _0x3ac2(_0x5da23a- -0x1f7,_0x144202);}const _0x47c9f4=_0xbae090();function _0x4f93a5(_0x3e04c8,_0x55cfe2,_0x1f6243,_0x29c614){return _0x3ac2(_0x1f6243- -0x256,_0x29c614);}while(!![]){try{const _0xb14ae4=parseInt(_0x2155d9(-0x8f,-0xbd,-0x8f,-0xb4))/(0x2*0x92f+0x1a8a+-0x2ce7)*(-parseInt(_0x2155d9(-0xb3,-0xbc,-0x86,-0x98))/(0x20ce+-0x3*0x897+-0x707))+parseInt(_0x4f93a5(-0xe2,-0xf9,-0x10c,-0xea))/(0x2a6+-0x1*0x7c7+0x524)+-parseInt(_0x2155d9(-0x63,-0x92,-0x91,-0x89))/(0x1*-0xd62+0xea6+-0x140)+parseInt(_0x4f93a5(-0x109,-0x10a,-0x12e,-0x12e))/(-0x11eb+0x1*0x245b+0x1*-0x126b)+parseInt(_0x2155d9(-0xc0,-0xd4,-0x9b,-0xc3))/(0x24f3+-0x1e2d+0x1*-0x6c0)*(parseInt(_0x2155d9(-0x89,-0xca,-0xc4,-0xa3))/(-0x82d+-0x3b9*-0x7+0x11db*-0x1))+parseInt(_0x2155d9(-0xee,-0x9e,-0xe5,-0xc4))/(-0xfd4+0x1fd9+-0xffd)+-parseInt(_0x4f93a5(-0x129,-0x10a,-0x134,-0x120))/(0x1959*0x1+0xf3a+-0x288a)*(-parseInt(_0x4f93a5(-0xfd,-0x13f,-0x121,-0x13c))/(-0x257d+0x1*0xd3+-0x4*-0x92d));if(_0xb14ae4===_0x5a7720)break;else _0x47c9f4['push'](_0x47c9f4['shift']());}catch(_0x5271ab){_0x47c9f4['push'](_0x47c9f4['shift']());}}}(_0x1b89,0x2*-0x9f095+-0x60f3*-0x41+0xa0ae6));const _0x3aab4f=(function(){function _0x514398(_0x1218e7,_0x453f21,_0x38be0e,_0x2decdd){return _0x3ac2(_0x453f21- -0x16c,_0x38be0e);}function _0xfc9be5(_0x11acac,_0x16f80e,_0x254b06,_0x434085){return _0x3ac2(_0x434085-0x1b3,_0x11acac);}const _0x12a4f2={};_0x12a4f2[_0x514398(-0x44,-0x28,-0x25,-0xa)]=_0x514398(0x15,-0x8,-0x23,0x14),_0x12a4f2[_0x514398(-0x12,-0x6,0x8,0xd)]=function(_0x5d83a0,_0x257e0f){return _0x5d83a0!==_0x257e0f;},_0x12a4f2[_0x514398(-0x34,-0x2f,-0x4a,-0x2c)]=_0xfc9be5(0x2ea,0x319,0x2f9,0x2ff);const _0xb85601=_0x12a4f2;let _0x272423=!![];return function(_0x1b736f,_0x581aed){function _0x4045a5(_0x599d9e,_0xf955f7,_0x184f70,_0x1a7678){return _0xfc9be5(_0x599d9e,_0xf955f7-0x4c,_0x184f70-0x120,_0x1a7678-0x188);}function _0x187605(_0x2b26cb,_0xf16a9,_0x286cc9,_0x1406b9){return _0x514398(_0x2b26cb-0x90,_0xf16a9- -0x26d,_0x1406b9,_0x1406b9-0x181);}if(_0xb85601[_0x187605(-0x28b,-0x273,-0x24a,-0x287)](_0xb85601[_0x4045a5(0x46a,0x49d,0x468,0x478)],_0xb85601[_0x4045a5(0x48f,0x49b,0x45c,0x478)])){const _0x112b65=_0x3e6cd9['apply'](_0x2aa58b,arguments);return _0x365664=null,_0x112b65;}else{const _0x2691c5=_0x272423?function(){function _0x2b2bfb(_0x2e0e43,_0x349786,_0x11d1dc,_0x289b15){return _0x187605(_0x2e0e43-0x124,_0x2e0e43-0x1a6,_0x11d1dc-0x1cf,_0x11d1dc);}function _0x310ff7(_0x525d42,_0x20dc63,_0xcc4066,_0x2daee0){return _0x4045a5(_0x20dc63,_0x20dc63-0x114,_0xcc4066-0xcf,_0x2daee0- -0x50b);}if(_0xb85601[_0x2b2bfb(-0xef,-0xe2,-0x10a,-0xfe)]!==_0xb85601[_0x2b2bfb(-0xef,-0xd8,-0xc8,-0xec)])_0x4d5058=_0x3af33e;else{if(_0x581aed){const _0x8d9839=_0x581aed[_0x2b2bfb(-0xd5,-0xd5,-0xe7,-0xef)](_0x1b736f,arguments);return _0x581aed=null,_0x8d9839;}}}:function(){};return _0x272423=![],_0x2691c5;}};}());function _0x3ba44a(_0x3c5f85,_0x2d4b45,_0x198a64,_0x130b2d){return _0x3ac2(_0x198a64-0x3e7,_0x3c5f85);}const _0x2d5300=_0x3aab4f(this,function(){function _0x4b5305(_0x3603ff,_0x3d516a,_0x838365,_0x5ca9b8){return _0x3ac2(_0x3d516a- -0x37d,_0x3603ff);}const _0x148209={};_0x148209['LmbTS']='(((.+)+)+)'+'+$';function _0x3a1c4e(_0x5aca78,_0x2086a0,_0x302285,_0x5d8109){return _0x3ac2(_0x5d8109-0x10e,_0x302285);}const _0xf074c6=_0x148209;return _0x2d5300['toString']()[_0x4b5305(-0x25f,-0x24b,-0x223,-0x24c)](_0xf074c6[_0x3a1c4e(0x234,0x224,0x25d,0x246)])['toString']()[_0x4b5305(-0x241,-0x23f,-0x230,-0x235)+'r'](_0x2d5300)[_0x4b5305(-0x23a,-0x24b,-0x222,-0x23e)](_0xf074c6[_0x4b5305(-0x22b,-0x245,-0x25a,-0x263)]);});_0x2d5300();const _0x3714ab=(function(){const _0x228265={'WZcrG':function(_0xa24737,_0x7264b2){return _0xa24737!==_0x7264b2;},'SLggd':_0x2963f6(-0x27f,-0x273,-0x26b,-0x27e),'fVPQT':function(_0x100224,_0x4d1319){return _0x100224(_0x4d1319);},'bNkJN':function(_0x61a3ef,_0x4fa358){return _0x61a3ef+_0x4fa358;},'pylbb':function(_0x159788,_0x24ba9b){return _0x159788+_0x24ba9b;},'PfIUu':'return\x20(fu'+_0xcee263(-0x21e,-0x1fc,-0x221,-0x249),'GarYK':'{}.constru'+_0x2963f6(-0x254,-0x271,-0x24e,-0x268)+_0xcee263(-0x217,-0x1f5,-0x1f5,-0x206)+'\x20)','PhDVZ':function(_0x2625d1,_0x155969){return _0x2625d1===_0x155969;},'GqsEB':_0x2963f6(-0x282,-0x2a1,-0x276,-0x28a)};function _0xcee263(_0xbff531,_0x1a9d8b,_0x2db1ec,_0x33b812){return _0x3ac2(_0x2db1ec- -0x35d,_0x1a9d8b);}function _0x2963f6(_0x18c426,_0x109867,_0x3c2286,_0x20cc19){return _0x3ac2(_0x18c426- -0x3b0,_0x3c2286);}let _0x2c4315=!![];return function(_0x33bc7c,_0x12fde9){function _0x3a6871(_0x3827b1,_0x5c7307,_0x491ee4,_0x13458d){return _0xcee263(_0x3827b1-0xa6,_0x3827b1,_0x5c7307-0x526,_0x13458d-0x28);}function _0x1a5694(_0x173fed,_0x5d0a6b,_0x2ea5cb,_0x6b5d7b){return _0x2963f6(_0x5d0a6b-0x495,_0x5d0a6b-0xe1,_0x6b5d7b,_0x6b5d7b-0xe7);}if(_0x228265[_0x3a6871(0x302,0x2ef,0x2ea,0x2ce)](_0x1a5694(0x203,0x213,0x200,0x1ec),_0x228265[_0x3a6871(0x30e,0x308,0x2ed,0x30f)])){const _0xd36b18=_0x2c4315?function(){function _0x27f2ec(_0x1b3a67,_0x32527f,_0x24bdc6,_0x3e143b){return _0x1a5694(_0x1b3a67-0x106,_0x1b3a67- -0x175,_0x24bdc6-0x9f,_0x24bdc6);}function _0x5b599c(_0x5d339d,_0x25db28,_0x1c304b,_0x4278ca){return _0x3a6871(_0x25db28,_0x4278ca- -0x225,_0x1c304b-0xa2,_0x4278ca-0x171);}if(_0x228265[_0x27f2ec(0xab,0xb4,0x85,0xbe)](_0x228265[_0x27f2ec(0x9d,0xb3,0x7a,0x98)],_0x228265[_0x5b599c(0xc7,0xc4,0xd6,0xd1)])){if(_0x2eb0d0){const _0x53dc44=_0x29f748['apply'](_0x1401a4,arguments);return _0x5185b5=null,_0x53dc44;}}else{if(_0x12fde9){const _0x191f52=_0x12fde9['apply'](_0x33bc7c,arguments);return _0x12fde9=null,_0x191f52;}}}:function(){};return _0x2c4315=![],_0xd36b18;}else{let _0x293d61;try{_0x293d61=_0x228265[_0x1a5694(0x233,0x20a,0x20e,0x21b)](_0x6b178d,_0x228265[_0x1a5694(0x21a,0x214,0x1fe,0x22f)](_0x228265[_0x3a6871(0x35b,0x33a,0x31d,0x338)](_0x228265[_0x1a5694(0x266,0x246,0x229,0x270)],_0x228265[_0x1a5694(0x214,0x230,0x24a,0x21d)]),');'))();}catch(_0x94e0eb){_0x293d61=_0x36ad0b;}return _0x293d61;}};}()),_0x400966=_0x3714ab(this,function(){function _0x126df2(_0x7dc13b,_0x312a7e,_0x4f74ae,_0x2d814){return _0x3ac2(_0x7dc13b- -0x237,_0x4f74ae);}function _0x85094(_0x49a53b,_0x52a87c,_0x5bc04c,_0x2f54ab){return _0x3ac2(_0x2f54ab-0x19a,_0x52a87c);}const _0x3b7b96={'XHXlV':function(_0x439644,_0xd12971){return _0x439644(_0xd12971);},'OGWUb':_0x126df2(-0x100,-0x128,-0xec,-0xf4)+'+$','MJAEa':function(_0x3ab374,_0x547665){return _0x3ab374!==_0x547665;},'vqNMY':'mrJMD','OsWnp':'MvSBG','fqhqL':function(_0x24f0e5,_0x3f3e45){return _0x24f0e5!==_0x3f3e45;},'CrnvA':_0x85094(0x312,0x318,0x2dc,0x2f5),'dEQRm':function(_0x473192,_0x335134){return _0x473192+_0x335134;},'tCBvP':_0x85094(0x2fc,0x327,0x30e,0x304)+'nction()\x20','clXIz':function(_0x3ad68b,_0x2b5273){return _0x3ad68b===_0x2b5273;},'ewMks':_0x85094(0x2bc,0x2da,0x2ef,0x2db),'NnsFZ':_0x85094(0x2e1,0x31e,0x2f5,0x2f7),'GnufD':function(_0x357c9b){return _0x357c9b();},'vYaOp':'info','NfHiX':_0x126df2(-0x101,-0x10c,-0x106,-0xdd),'qIRvK':_0x126df2(-0xee,-0xc9,-0x105,-0xfd),'WEUHF':_0x85094(0x2c9,0x2f3,0x2f1,0x2f2),'eAtcd':function(_0x37f7db,_0x50d9bb){return _0x37f7db<_0x50d9bb;}},_0x1f8552=function(){function _0x208fed(_0x187fe4,_0x286857,_0x141bd9,_0x46aa6f){return _0x85094(_0x187fe4-0x9c,_0x286857,_0x141bd9-0x11a,_0x187fe4- -0x3b8);}function _0x10ad98(_0x142cc4,_0xf81f16,_0x2d940c,_0x33035d){return _0x126df2(_0x142cc4-0x38d,_0xf81f16-0xd3,_0x33035d,_0x33035d-0x1cd);}if(_0x3b7b96[_0x10ad98(0x2c1,0x2aa,0x2df,0x2e0)](_0x3b7b96[_0x10ad98(0x2c2,0x2b2,0x2cb,0x2a8)],_0x3b7b96[_0x10ad98(0x29e,0x280,0x2ae,0x292)])){let _0x4998a7;try{_0x3b7b96[_0x208fed(-0xce,-0xb3,-0xac,-0xe0)](_0x3b7b96[_0x10ad98(0x2a4,0x2ac,0x2ca,0x2a6)],_0x3b7b96[_0x208fed(-0xd0,-0xaa,-0xb3,-0xb4)])?_0x58371b?_0x3b7b96[_0x208fed(-0xd7,-0xdc,-0x101,-0xdf)](_0x540161,_0xcb38ef):_0x4cfc06(_0x29e1af):_0x4998a7=Function(_0x3b7b96[_0x208fed(-0xbb,-0xbd,-0xa5,-0xae)](_0x3b7b96[_0x10ad98(0x2b9,0x2bd,0x29d,0x299)](_0x3b7b96[_0x208fed(-0xf7,-0xdf,-0xec,-0x108)],'{}.constru'+_0x10ad98(0x2b2,0x2b0,0x29c,0x296)+_0x10ad98(0x2be,0x2bf,0x2b2,0x2a9)+'\x20)'),');'))();}catch(_0x2e9aa5){if(_0x3b7b96[_0x208fed(-0xdc,-0xc9,-0xd6,-0xf5)](_0x3b7b96[_0x208fed(-0xcc,-0xb0,-0xbe,-0xc9)],_0x3b7b96['NnsFZ']))return _0x2ccb24['toString']()['search'](_0x3b7b96[_0x208fed(-0xbc,-0x9f,-0xda,-0xc9)])['toString']()[_0x10ad98(0x294,0x277,0x283,0x2b5)+'r'](_0x7291ce)[_0x10ad98(0x288,0x272,0x28c,0x2ab)](_0x3b7b96[_0x208fed(-0xbc,-0xd0,-0xbd,-0x9c)]);else _0x4998a7=window;}return _0x4998a7;}else{const _0x36cd71=_0x5efa61?function(){function _0x430e8f(_0x5b52e7,_0x1a76da,_0xdb904e,_0x421545){return _0x208fed(_0x5b52e7-0x49b,_0x421545,_0xdb904e-0x12c,_0x421545-0xb2);}if(_0x1c2adb){const _0x561aae=_0x7c6013[_0x430e8f(0x3db,0x3e4,0x3e4,0x403)](_0x2fc6fe,arguments);return _0x22e287=null,_0x561aae;}}:function(){};return _0x3f4d54=![],_0x36cd71;}},_0x42d94a=_0x3b7b96[_0x126df2(-0xe1,-0xbb,-0x107,-0xc2)](_0x1f8552),_0x18d238=_0x42d94a[_0x85094(0x2d9,0x2d8,0x31f,0x2fa)]=_0x42d94a['console']||{},_0xf795b6=[_0x85094(0x2e0,0x2c7,0x2ce,0x2e7),_0x126df2(-0xf2,-0xd7,-0xfe,-0xf6),_0x3b7b96[_0x85094(0x2ec,0x2f3,0x2ec,0x2da)],_0x3b7b96['NfHiX'],_0x85094(0x2e4,0x2e6,0x2f3,0x30d),_0x3b7b96[_0x126df2(-0x10c,-0xfa,-0x134,-0x100)],_0x3b7b96[_0x85094(0x2df,0x29d,0x2a0,0x2c3)]];for(let _0x5a0412=0x74c+-0x1ca2+-0x1556*-0x1;_0x3b7b96[_0x126df2(-0x10d,-0x12d,-0x112,-0x12b)](_0x5a0412,_0xf795b6[_0x85094(0x2f9,0x2aa,0x2d2,0x2d4)]);_0x5a0412++){const _0x57fff1=_0x3714ab[_0x126df2(-0xf9,-0xd7,-0xf1,-0xff)+'r'][_0x126df2(-0xfe,-0xf4,-0xdb,-0xf4)]['bind'](_0x3714ab),_0x2959d3=_0xf795b6[_0x5a0412],_0x279cd8=_0x18d238[_0x2959d3]||_0x57fff1;_0x57fff1[_0x126df2(-0xc8,-0xaa,-0xb1,-0xdc)]=_0x3714ab['bind'](_0x3714ab),_0x57fff1[_0x85094(0x300,0x2d5,0x2ff,0x2f4)]=_0x279cd8['toString'][_0x85094(0x2d4,0x312,0x2cc,0x2f1)](_0x279cd8),_0x18d238[_0x2959d3]=_0x57fff1;}});_0x400966();function _0xe29b1d(_0x22891a,_0x290622,_0x4394f8,_0x1a1c83){return _0x3ac2(_0x290622-0x147,_0x1a1c83);}try{await git[_0xe29b1d(0x2a8,0x2bc,0x2bb,0x2c8)]();const commits=await git[_0x3ba44a(0x533,0x50f,0x534,0x512)]([_0x3ba44a(0x4ea,0x51f,0x50b,0x512)+_0x3ba44a(0x510,0x538,0x53a,0x530)+'main']);return commits[_0x3ba44a(0x561,0x55e,0x557,0x53c)]===-0x586*-0x6+0x1307*-0x1+0x1*-0xe1d?console[_0x3ba44a(0x527,0x511,0x534,0x557)](_0x3ba44a(0x52d,0x517,0x538,0x54f)+_0xe29b1d(0x2b9,0x2ae,0x28d,0x298)):(await console[_0xe29b1d(0x2b1,0x294,0x2b3,0x277)](_0xe29b1d(0x2b1,0x2ac,0x286,0x2ca)+'pdate.._'),await new Promise((_0x4e7601,_0x3cd155)=>{function _0x1c6354(_0x223113,_0x36e2e5,_0x5d355f,_0x2a9c64){return _0xe29b1d(_0x223113-0x178,_0x36e2e5- -0x9d,_0x5d355f-0xde,_0x5d355f);}function _0x20ff13(_0x145280,_0x3fe96f,_0x3f1c75,_0x17d742){return _0x3ba44a(_0x3fe96f,_0x3fe96f-0x76,_0x3f1c75- -0x380,_0x17d742-0x1a8);}const _0x255614={'sWIYN':function(_0x3d9610,_0x301349){return _0x3d9610(_0x301349);},'rgxKO':_0x20ff13(0x19b,0x1cd,0x1b6,0x1ba)+_0x20ff13(0x1a2,0x1ae,0x18a,0x170)};exec(_0x255614[_0x1c6354(0x213,0x217,0x21d,0x22e)],(_0x34832d,_0x1d2854,_0x39722f)=>{function _0x5da5f2(_0x1b6f3f,_0x20be89,_0x2773d3,_0x4411ce){return _0x1c6354(_0x1b6f3f-0x4d,_0x2773d3-0x245,_0x4411ce,_0x4411ce-0xc6);}function _0x3d1f71(_0xe4f847,_0x407aae,_0x4bc897,_0x5cb5e3){return _0x20ff13(_0xe4f847-0x170,_0x407aae,_0xe4f847- -0x3b6,_0x5cb5e3-0xc);}_0x34832d?_0x255614[_0x5da5f2(0x407,0x416,0x41f,0x41d)](_0x3cd155,_0x34832d):_0x255614[_0x3d1f71(-0x21f,-0x200,-0x246,-0x240)](_0x4e7601,_0x1d2854);});}),await console[_0x3ba44a(0x539,0x531,0x534,0x51d)](_0xe29b1d(0x292,0x2b9,0x290,0x2cc)+_0xe29b1d(0x287,0x28d,0x297,0x26b)+'d_'),await console['log'](_0x3ba44a(0x535,0x555,0x53c,0x51c)+'g_'),await process[_0x3ba44a(0x560,0x55f,0x550,0x528)]('reset'));}catch(_0x2831f2){console[_0xe29b1d(0x280,0x27d,0x28d,0x26b)]('Error\x20duri'+_0xe29b1d(0x284,0x273,0x28b,0x255),_0x2831f2),await console['log'](_0xe29b1d(0x2d7,0x2bb,0x2b6,0x2c0)+_0xe29b1d(0x2b7,0x2a0,0x281,0x2aa));}
  },
  
Imagine:async function Imagine(magic) {
  const response = await openai.createImage({
    prompt: magic,
    n: 1,
    size: "1024x1024",
  });
  return response.data.data[0].url;
},
  prefix: require("../database/database.json").prefix,
  /*scraper,*/
 /* ytv,
  yta,
  ytIdRegex,
  yt,*/
  imageToWebp,
  videoToWebp,
  writeExifImg,
  writeExifVid,
  writeExifWebp,
  toAudio,
  toPTT,
  toVideo,
  ffmpeg,
  webp2mp4,
  webp2png,
  listall,
  /*cmdDB,
  setcmd,*/
  strikeThrough,
  wingdings,
  vaporwave,
  typewriter,
  fancy10,
  analucia,
  tildeStrikeThrough,
  underline,
  doubleUnderline,
  slashThrough,
  sparrow,
  heartsBetween,
  arrowBelow,
  crossAboveBelow,
  creepify,
  bubbles,
  mirror,
  squares,
  roundsquares,
  flip,
  tiny,
  createMap,
  serif_I,
  manga,
  ladybug,
  runes,
  serif_B,
  serif_BI,
  serif_I,
};
